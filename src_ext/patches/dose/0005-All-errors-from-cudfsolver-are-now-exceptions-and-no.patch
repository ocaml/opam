From 5a10e024cbeae73e8a8483532650c797af53d317 Mon Sep 17 00:00:00 2001
From: Pietro Abate <pietro.abate@pps.jussieu.fr>
Date: Tue, 4 Mar 2014 13:06:55 +0100
Subject: [PATCH 5/6] All errors from cudfsolver are now exceptions and not
 fatal errors

Conflicts:
	common/cudfSolver.ml
---
 common/cudfSolver.ml | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

diff --git a/common/cudfSolver.ml b/common/cudfSolver.ml
index 97d889c..5b5eb42 100644
--- a/common/cudfSolver.ml
+++ b/common/cudfSolver.ml
@@ -38,13 +38,6 @@ let rmtmpdir path =
     ignore (Unix.system (Printf.sprintf "rm -rf %s" path))
 ;;
 
-let check_exit_status cmd = function
-  |Unix.WEXITED 0   -> ()
-  |Unix.WEXITED i   -> fatal "command '%s' failed with code %d" cmd i
-  |Unix.WSIGNALED i -> fatal "command '%s' killed by signal %d" cmd i
-  |Unix.WSTOPPED i  -> fatal "command '%s' stopped by signal %d" cmd i
-;;
-
 let rec input_all_lines acc chan =
   try input_all_lines ((input_line chan)::acc) chan
   with End_of_file -> acc
@@ -75,6 +68,13 @@ let fatal fmt =
   ) fmt
 ;;
 
+let check_exit_status cmd = function
+  |Unix.WEXITED 0   -> ()
+  |Unix.WEXITED i   -> fatal "command '%s' failed with code %d" cmd i
+  |Unix.WSIGNALED i -> fatal "command '%s' killed by signal %d" cmd i
+  |Unix.WSTOPPED i  -> fatal "command '%s' stopped by signal %d" cmd i
+;;
+
 (** [execsolver] execute an external cudf solver.
     exec_pat : execution string
     cudf : a cudf document (preamble, universe, request)
-- 
1.8.5.3

